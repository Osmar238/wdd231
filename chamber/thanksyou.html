<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thank You - NYC Chamber</title>
    <link rel="stylesheet" href="styles/base.css">
    <link rel="stylesheet" href="styles/large.css" media="(min-width: 900px)">
    <script src="scripts/main.js" defer></script>
</head>
<body>
    <header>
        <div class="header-content">
            <img src="images/logo.png" alt="NYC Chamber Logo">
            <h1>NYC Chamber of Commerce</h1>
            <button id="menu-toggle">â˜°</button>
        </div>
        <nav>
            <ul id="primary-nav">
                <li><a href="index.html">Home</a></li>
                <li><a href="discover.html">Discover</a></li>
                <li><a href="directory.html">Directory</a></li> 
                <li><a href="join.html">Join</a></li>
            </ul>
        </nav>
    </header>

    <main class="thankyou-container">
        <div class="card">
            <h2>Thank You for Joining!</h2>
            <p>We have received your application. Here are the details you submitted:</p>
            
            <div class="results">
                <p><strong>First Name:</strong> <span id="results-fname"></span></p>
                <p><strong>Last Name:</strong> <span id="results-lname"></span></p>
                <p><strong>Email:</strong> <span id="results-email"></span></p>
                <p><strong>Mobile:</strong> <span id="results-phone"></span></p>
                <p><strong>Organization:</strong> <span id="results-org"></span></p>
                <p><strong>Date:</strong> <span id="results-timestamp"></span></p>
            </div>
        </div>
    </main>

    <footer>
        <p>&copy; <span id="year"></span> NYC Chamber</p>
        <p id="lastModified"></p>
    </footer>
</body>
</html>// Import the data (note the ../ to go up one folder)
import { places } from '../data/places.mjs';

// 1. GENERATE PLACE CARDS
const placesContainer = document.querySelector('#places-grid');

function displayPlaces(placesList) {
    placesList.forEach(place => {
        const card = document.createElement('div');
        card.classList.add('place-card');
        
        card.innerHTML = `
            <h2>${place.name}</h2>
            <figure>
                <img src="${place.image}" alt="${place.name}" loading="lazy" width="300" height="200">
            </figure>
            <address>${place.address}</address>
            <p>${place.description}</p>
            <button>Learn More</button>
        `;
        
        placesContainer.appendChild(card);
    });
}

// Run the function
displayPlaces(places);


// 2. VISIT MESSAGE (LocalStorage)
const visitMessage = document.querySelector('#visit-message');
const msToDays = 84600000; // Milliseconds in a day
const now = Date.now();

let lastVisit = window.localStorage.getItem('lastVisit-ls');

if (!lastVisit) {
    // First visit
    visitMessage.innerHTML = `<p>Welcome! Let us know if you have any questions.</p>`;
} else {
    // Returning visit
    const daysSince = (now - lastVisit) / msToDays;
    
    if (daysSince < 1) {
        visitMessage.innerHTML = `<p>Back so soon! Awesome!</p>`;
    } else {
        // Round down to whole days
        const days = Math.floor(daysSince);
        const dayWord = days === 1 ? "day" : "days";
        visitMessage.innerHTML = `<p>You last visited ${days} ${dayWord} ago.</p>`;
    }
}

// Store current date for next time
window.localStorage.setItem('lastVisit-ls', now);